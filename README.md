# Выпускной проект "Накопительная система лояльности (Гофермарт)"

# Чеклист 

### Накопительная система лояльности 

- [x] `POST /api/user/register` — Регистрация пользователя (Система лояльности)
- [ ] `POST /api/user/login` — Аутентификация пользователя (Система лояльности)
- [ ] `POST /api/user/orders` — Загрузка номера заказа (Система лояльности)
- [ ] `GET /api/user/orders` — Получение списка загруженных заказов (Система лояльности)
- [ ] `GET /api/user/balance` — Получение баланса пользователя (Система лояльности)
- [ ] `POST /api/user/balance/withdraw` — Запрос на списание баллов (Система лояльности)
- [ ] `GET /api/user/withdrawals` — Получение информации о выводе средств (Система лояльности)

### Система расчёта вознаграждений 

- [ ] `GET /api/orders/{number}` — Получение информации о расчёте баллов (Система расчёта вознаграждений)
- [ ] `POST /api/orders` — Регистрация нового заказа для начисления (Система расчёта вознаграждений)
- [ ] `POST /api/goods` — Регистрация информации о механике вознаграждения (Система расчёта вознаграждений)



```
.
├── cmd                                  # Основная директория с исполняемыми файлами
│   ├── accrual                         # Директория для проекта 'accrual'
│   │   ├── main.go                     # Главный файл приложения 'accrual'
│   │   ├── main_test.go                # Тесты для 'main.go' приложения 'accrual'
│   │   └── README.md                   # Документация для проекта 'accrual'
│   └── gophermart                       # Директория для проекта 'gophermart'
│       ├── app                          # Поддиректория для кода приложения
│       │   ├── command.go              # Основной код для обработки команд в 'gophermart'
│       │   └── command_test.go         # Тесты для обработки команд
│       ├── main.go                     # Главный файл приложения 'gophermart'
│       ├── main_test.go                # Тесты для 'main.go' приложения 'gophermart'
│       └── README.md                   # Документация для проекта 'gophermart'
├── coverage.txt                        # Файл с отчетом о покрытии тестами
├── go.mod                               # Модульный файл Go (зависимости)
├── go.sum                               # Контрольная сумма зависимостей
├── internal                            # Основной код проекта (интерфейсы, реализации)
│   ├── api                             # API слой
│   │   ├── handlers                    # Обработчики API
│   │   │   ├── ping.go                # Обработчик для пинга
│   │   │   ├── ping_mock.go           # Мок для тестирования обработчика пинга
│   │   │   ├── ping_test.go           # Тесты для обработчика пинга
│   │   │   ├── user_register.go       # Обработчик для регистрации пользователя
│   │   │   ├── user_register_mock.go  # Мок для тестирования обработчика регистрации
│   │   │   └── user_register_test.go  # Тесты для обработчика регистрации
│   │   ├── middlewares                # Миддлвары API
│   │   │   ├── auth.go                # Аутентификация (middleware)
│   │   │   ├── auth_mock.go           # Мок для тестирования аутентификации
│   │   │   ├── auth_test.go           # Тесты для аутентификации
│   │   │   ├── gzip.go                # Middleware для сжатия
│   │   │   ├── gzip_test.go           # Тесты для gzip middleware
│   │   │   ├── logging.go             # Middleware для логирования
│   │   │   └── logging_test.go        # Тесты для логирования
│   │   └── routers                     # Маршрутизаторы API
│   │       ├── ping.go                # Роутинг для пинга
│   │       ├── ping_test.go           # Тесты для роутинга пинга
│   │       ├── user_register.go       # Роутинг для регистрации пользователя
│   │       └── user_register_test.go  # Тесты для роутинга регистрации
│   ├── configs                         # Конфигурации проекта
│   │   ├── gophermart.go              # Конфигурация для 'gophermart'
│   │   └── gophermart_test.go         # Тесты для конфигурации 'gophermart'
│   ├── engines                         # Вспомогательные движки, которые переиспользуются различными частями программы
│   │   ├── cli                         # CLI взаимодействия
│   │   │   ├── run.go                 # Запуск CLI
│   │   │   └── run_test.go            # Тесты для запуска CLI
│   │   ├── context                     # Управление контекстом
│   │   │   ├── cancel.go              # Логика отмены контекста
│   │   │   └── cancel_test.go         # Тесты для контекста отмены
│   │   ├── json                        # Работа с JSON
│   │   │   ├── request_decoder.go     # Декодирование запросов
│   │   │   ├── request_decoder_test.go# Тесты для декодирования запросов
│   │   │   ├── response_encoder.go    # Кодирование ответов
│   │   │   └── response_encoder_test.go# Тесты для кодирования ответов
│   │   ├── jwt                         # Работа с JWT
│   │   │   ├── claims.go              # Работа с claims JWT
│   │   │   ├── generator.go           # Генерация JWT
│   │   │   ├── generator_mock.go      # Мок для тестирования генератора JWT
│   │   │   ├── generator_test.go      # Тесты для генератора JWT
│   │   │   ├── parse.go               # Разбор JWT
│   │   │   ├── parse_mock.go          # Мок для тестирования разбора JWT
│   │   │   └── parse_test.go          # Тесты для разбора JWT
│   │   ├── log                         # Логирование
│   │   │   ├── log.go                 # Логика логирования
│   │   │   └── log_test.go            # Тесты для логирования
│   │   ├── password                    # Хеширование и сравнение паролей
│   │   │   ├── compare.go             # Сравнение паролей
│   │   │   ├── compare_test.go        # Тесты для сравнения паролей
│   │   │   ├── hasher.go              # Хеширование паролей
│   │   │   └── hash_test.go           # Тесты для хеширования паролей
│   │   └── server                       # Сервера
│   │       ├── run.go                 # Запуск сервера
│   │       ├── run_mock.go            # Мок для тестирования сервера
│   │       └── run_test.go            # Тесты для сервера
│   ├── repositories                    # Абстракция доступа к данным
│   │   ├── user_filter.go             # Логика фильтрации пользователей
│   │   ├── user_filter_test.go        # Тесты для фильтрации пользователей
│   │   ├── user_save.go               # Логика сохранения пользователей
│   │   └── user_save_test.go          # Тесты для сохранения пользователей
│   ├── services                        # Бизнес логика
│   |   ├── unitofwork                  # Реализация паттерна "Unit of Work"
│   |   │   ├── unit_of_work.go         # Логика паттерна "Unit of Work"
│   |   │   └── unit_of_work_test.go    # Тесты для паттерна "Unit of Work"
│   │   ├── user_register.go           # Сервис регистрации пользователя
│   │   ├── user_register_mock.go      # Мок для тестирования сервиса регистрации
│   │   └── user_register_test.go      # Тесты для сервиса регистрации
│   └── usecases                        # Пользовательские сценарии
│       ├── user_register.go           # Паттерн использования для регистрации
│       ├── user_register_mock.go      # Мок для тестирования паттерна использования регистрации
│       ├── user_register_test.go      # Тесты для паттерна использования регистрации
│       └── validators                  # Валидаторы данных
│           ├── login.go               # Валидатор для логина
│           ├── login_test.go          # Тесты для валидатора логина
│           ├── password.go            # Валидатор для пароля
│           └── password_test.go       # Тесты для валидатора пароля
├── Makefile                            # Скрипты для сборки проекта
├── migrations                          # Миграции базы данных
│   └── 20250409070108_create_users_table.sql # Миграция для создания таблицы пользователей
├── README.md                           # Главная документация проекта
└── SPECIFICATION.md                    # Спецификация проекта
```